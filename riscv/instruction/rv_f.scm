(define-module (riscv instruction rv_f)
  #:use-module (riscv build-base)
  #:use-module (riscv range-base)
  #:export (flw fsw fmadd.s fmsub.s fnmsub.s fnmadd.s fadd.s fsub.s fmul.s fdiv.s fsqrt.s fsgnj.s fsgnjn.s fsgnjx.s fmin.s fmax.s fcvt.w.s fcvt.wu.s fmv.x.w feq.s flt.s fle.s fclass.s fcvt.s.w fcvt.s.wu fmv.w.x)
)

(define flw (make-instruction rd rs1 imm12 (range-fixed 14 12 2) (range-fixed 6 2 1) (range-fixed 1 0 3)))
(define fsw (make-instruction simm12 rs1 rs2 (range-fixed 14 12 2) (range-fixed 6 2 9) (range-fixed 1 0 3)))
(define fmadd.s (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 0) (range-fixed 6 2 16) (range-fixed 1 0 3)))
(define fmsub.s (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 0) (range-fixed 6 2 17) (range-fixed 1 0 3)))
(define fnmsub.s (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 0) (range-fixed 6 2 18) (range-fixed 1 0 3)))
(define fnmadd.s (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 0) (range-fixed 6 2 19) (range-fixed 1 0 3)))
(define fadd.s (make-instruction rd rs1 rs2 rm (range-fixed 31 27 0) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsub.s (make-instruction rd rs1 rs2 rm (range-fixed 31 27 1) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmul.s (make-instruction rd rs1 rs2 rm (range-fixed 31 27 2) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fdiv.s (make-instruction rd rs1 rs2 rm (range-fixed 31 27 3) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsqrt.s (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 11) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsgnj.s (make-instruction rd rs1 rs2 (range-fixed 31 27 4) (range-fixed 14 12 0) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsgnjn.s (make-instruction rd rs1 rs2 (range-fixed 31 27 4) (range-fixed 14 12 1) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsgnjx.s (make-instruction rd rs1 rs2 (range-fixed 31 27 4) (range-fixed 14 12 2) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmin.s (make-instruction rd rs1 rs2 (range-fixed 31 27 5) (range-fixed 14 12 0) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmax.s (make-instruction rd rs1 rs2 (range-fixed 31 27 5) (range-fixed 14 12 1) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.w.s (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 24) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.wu.s (make-instruction rd rs1 rm (range-fixed 24 20 1) (range-fixed 31 27 24) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmv.x.w (make-instruction rd rs1 (range-fixed 24 20 0) (range-fixed 31 27 28) (range-fixed 14 12 0) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define feq.s (make-instruction rd rs1 rs2 (range-fixed 31 27 20) (range-fixed 14 12 2) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define flt.s (make-instruction rd rs1 rs2 (range-fixed 31 27 20) (range-fixed 14 12 1) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fle.s (make-instruction rd rs1 rs2 (range-fixed 31 27 20) (range-fixed 14 12 0) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fclass.s (make-instruction rd rs1 (range-fixed 24 20 0) (range-fixed 31 27 28) (range-fixed 14 12 1) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.s.w (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 26) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.s.wu (make-instruction rd rs1 rm (range-fixed 24 20 1) (range-fixed 31 27 26) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmv.w.x (make-instruction rd rs1 (range-fixed 24 20 0) (range-fixed 31 27 30) (range-fixed 14 12 0) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
