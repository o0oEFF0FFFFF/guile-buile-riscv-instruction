(define-module (riscv instruction rv_d)
  #:use-module (riscv build-base)
  #:use-module (riscv range-base)
  #:export (fld fsd fmadd.d fmsub.d fnmsub.d fnmadd.d fadd.d fsub.d fmul.d fdiv.d fsqrt.d fsgnj.d fsgnjn.d fsgnjx.d fmin.d fmax.d fcvt.s.d fcvt.d.s feq.d flt.d fle.d fclass.d fcvt.w.d fcvt.wu.d fcvt.d.w fcvt.d.wu)
)

(define fld (make-instruction rd rs1 imm12 (range-fixed 14 12 3) (range-fixed 6 2 1) (range-fixed 1 0 3)))
(define fsd (make-instruction simm12 rs1 rs2 (range-fixed 14 12 3) (range-fixed 6 2 9) (range-fixed 1 0 3)))
(define fmadd.d (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 1) (range-fixed 6 2 16) (range-fixed 1 0 3)))
(define fmsub.d (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 1) (range-fixed 6 2 17) (range-fixed 1 0 3)))
(define fnmsub.d (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 1) (range-fixed 6 2 18) (range-fixed 1 0 3)))
(define fnmadd.d (make-instruction rd rs1 rs2 rs3 rm (range-fixed 26 25 1) (range-fixed 6 2 19) (range-fixed 1 0 3)))
(define fadd.d (make-instruction rd rs1 rs2 rm (range-fixed 31 27 0) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsub.d (make-instruction rd rs1 rs2 rm (range-fixed 31 27 1) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmul.d (make-instruction rd rs1 rs2 rm (range-fixed 31 27 2) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fdiv.d (make-instruction rd rs1 rs2 rm (range-fixed 31 27 3) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsqrt.d (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 11) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsgnj.d (make-instruction rd rs1 rs2 (range-fixed 31 27 4) (range-fixed 14 12 0) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsgnjn.d (make-instruction rd rs1 rs2 (range-fixed 31 27 4) (range-fixed 14 12 1) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fsgnjx.d (make-instruction rd rs1 rs2 (range-fixed 31 27 4) (range-fixed 14 12 2) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmin.d (make-instruction rd rs1 rs2 (range-fixed 31 27 5) (range-fixed 14 12 0) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fmax.d (make-instruction rd rs1 rs2 (range-fixed 31 27 5) (range-fixed 14 12 1) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.s.d (make-instruction rd rs1 rm (range-fixed 24 20 1) (range-fixed 31 27 8) (range-fixed 26 25 0) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.d.s (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 8) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define feq.d (make-instruction rd rs1 rs2 (range-fixed 31 27 20) (range-fixed 14 12 2) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define flt.d (make-instruction rd rs1 rs2 (range-fixed 31 27 20) (range-fixed 14 12 1) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fle.d (make-instruction rd rs1 rs2 (range-fixed 31 27 20) (range-fixed 14 12 0) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fclass.d (make-instruction rd rs1 (range-fixed 24 20 0) (range-fixed 31 27 28) (range-fixed 14 12 1) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.w.d (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 24) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.wu.d (make-instruction rd rs1 rm (range-fixed 24 20 1) (range-fixed 31 27 24) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.d.w (make-instruction rd rs1 rm (range-fixed 24 20 0) (range-fixed 31 27 26) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
(define fcvt.d.wu (make-instruction rd rs1 rm (range-fixed 24 20 1) (range-fixed 31 27 26) (range-fixed 26 25 1) (range-fixed 6 2 20) (range-fixed 1 0 3)))
